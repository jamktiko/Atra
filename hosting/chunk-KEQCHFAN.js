import{a as O}from"./chunk-4P2KPF4T.js";import{a as K}from"./chunk-5HSAN7ZQ.js";import{A as v,B as T,C as w,Ca as J,D as a,J as C,K as M,L as S,N as F,X as W,Y as I,_ as L,aa as N,ba as q,ca as z,da as B,ea as Z,f as u,g as _,ga as k,i as d,j as A,k as V,n as g,o as f,oa as Q,qa as D,ra as R,s as y,sa as j,t,ta as G,u as e,w as P,wa as H,x,y as h,z as b}from"./chunk-OSKTXYQY.js";import"./chunk-Y2PDZ72K.js";import"./chunk-GOEAN3WI.js";import"./chunk-SNC2IU6J.js";import"./chunk-5SDHGKAM.js";import"./chunk-BXPB4ZAG.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-REYR55MP.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var U=["customerForm"];function X(n,r){n&1&&(t(0,"ion-text",9)(1,"small"),a(2,"Please fill in a valid first name."),e()())}function Y(n,r){n&1&&(t(0,"ion-text",9)(1,"small"),a(2,"Please fill in a valid last name."),e()())}function $(n,r){n&1&&(t(0,"small"),a(1,"Email is required."),e())}function ee(n,r){n&1&&(t(0,"small"),a(1,"Please enter a valid email address (with full domain)."),e())}function te(n,r){if(n&1&&(t(0,"ion-text",9),g(1,$,2,0,"small"),g(2,ee,2,0,"small"),e()),n&2){h();let c=w(25);d(),f(c.errors!=null&&c.errors.required?1:-1),d(),f(c.errors!=null&&c.errors.pattern?2:-1)}}function ne(n,r){n&1&&(t(0,"ion-text",9)(1,"small"),a(2,"Phone number must be in valid format."),e()())}function ie(n,r){if(n&1){let c=P();t(0,"app-modalcustomer",16),x("confirm",function(s){u(c);let i=h();return _(i.handleConfirm(s))})("cancel",function(){u(c);let s=h();return _(s.handleCancel())}),e()}if(n&2){let c=h();y("newcustomer",c.customer)("openModal",c.openModal)}}var ce=(()=>{let r=class r{showModal(){this.openModal=!0}closeModal(){this.openModal=!1,this.customerForm.resetForm()}handleConfirm(l){console.log("Customer added: ",l),this.addNewCustomer(),this.resetForm(),this.closeModal()}handleCancel(){this.openModal=!1}resetForm(){this.customer={first_name:"",last_name:"",email:"",phone:""}}constructor(l){this.apiService=l,this.customer={first_name:"",last_name:"",email:"",phone:""},this.openModal=!1}addNewCustomer(){this.apiService.addNewCustomer(this.customer).subscribe({next:l=>{this.customer=l},error:l=>{console.error("Something went wrong: ",l)}})}};r.\u0275fac=function(s){return new(s||r)(A(K))},r.\u0275cmp=V({type:r,selectors:[["app-addnewcustomer"]],viewQuery:function(s,i){if(s&1&&b(U,5),s&2){let m;v(m=T())&&(i.customerForm=m.first)}},decls:39,vars:10,consts:[["customerForm","ngForm"],["firstname","ngModel"],["lastname","ngModel"],["email","ngModel"],["phonenumber","ngModel"],[3,"fullscreen"],[3,"ngSubmit"],["collapse","condense"],["type","text","id","firstname","name","firstname","minlength","2","pattern","^[A-Za-z]+$","required","",3,"ngModelChange","ngModel"],["color","danger"],["type","text","id","lastname","name","lastname","minlength","2","pattern","^[A-Za-z]+$","required","",3,"ngModelChange","ngModel"],["type","text","id","email","name","email","required","","pattern","^[a-zA-Z0-9._%+\\-]+@[a-zA-Z0-9\\-]+(\\.[a-zA-Z]{2,})+$",3,"ngModelChange","ngModel"],["type","tel","id","tel","name","phonenumber","pattern","^\\+?[0-9]{1,3}([\\- ]?[0-9]{1,4}){2,3}$",3,"ngModelChange","ngModel"],[3,"newcustomer","openModal"],["tab","tabs/customers","href","tabs/customers"],[3,"click"],[3,"confirm","cancel","newcustomer","openModal"]],template:function(s,i){if(s&1){let m=P();t(0,"ion-content",5)(1,"form",6,0),x("ngSubmit",function(){return u(m),_(i.showModal())}),t(3,"ion-list-header",7)(4,"h1"),a(5,"Adding a new customer"),e()(),t(6,"h3"),a(7,"Please fill in the following customer information."),e(),t(8,"ion-list")(9,"ion-label"),a(10,"First name"),e(),t(11,"ion-item")(12,"ion-input",8,1),S("ngModelChange",function(o){return u(m),M(i.customer.first_name,o)||(i.customer.first_name=o),_(o)}),e(),g(14,X,3,0,"ion-text",9),e(),t(15,"ion-label"),a(16,"Last name"),e(),t(17,"ion-item")(18,"ion-input",10,2),S("ngModelChange",function(o){return u(m),M(i.customer.last_name,o)||(i.customer.last_name=o),_(o)}),e(),g(20,Y,3,0,"ion-text",9),e(),t(21,"ion-label"),a(22,"Email address"),e(),t(23,"ion-item")(24,"ion-input",11,3),S("ngModelChange",function(o){return u(m),M(i.customer.email,o)||(i.customer.email=o),_(o)}),e(),g(26,te,3,2,"ion-text",9),e(),t(27,"ion-label"),a(28,"Phone number"),e(),t(29,"ion-item")(30,"ion-input",12,4),S("ngModelChange",function(o){return u(m),M(i.customer.phone,o)||(i.customer.phone=o),_(o)}),e(),g(32,ne,3,0,"ion-text",9),e()()(),g(33,ie,1,2,"app-modalcustomer",13),t(34,"button")(35,"a",14),a(36,"Back"),e()(),t(37,"button",15),x("click",function(){return u(m),_(i.showModal())}),a(38,"Continue"),e()()}if(s&2){let m=w(13),p=w(19),o=w(25),E=w(31);y("fullscreen",!0),d(12),C("ngModel",i.customer.first_name),d(2),f(m.invalid&&m.touched?14:-1),d(4),C("ngModel",i.customer.last_name),d(2),f(p.invalid&&p.touched?20:-1),d(4),C("ngModel",i.customer.email),d(2),f(o.invalid&&o.touched?26:-1),d(4),C("ngModel",i.customer.phone),d(2),f(E.invalid&&E.touched?32:-1),d(),f(i.openModal?33:-1)}},dependencies:[Q,j,G,J,D,F,k,q,W,I,z,B,Z,N,L,O,R,H],encapsulation:2});let n=r;return n})();export{ce as AddnewcustomerPage};
