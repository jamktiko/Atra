import{a as B}from"./chunk-5HSAN7ZQ.js";import{D as i,Da as W,E as u,F as x,J as E,K as y,L as O,M as f,N as P,X as T,aa as A,f as g,g as b,ga as V,h,i as o,j as C,k as S,ka as D,l as w,oa as U,pa as F,q as M,r as v,s as d,t as e,u as t,v as k,w as I,x as c,xa as L,y as p,ya as R}from"./chunk-OSKTXYQY.js";import"./chunk-Y2PDZ72K.js";import"./chunk-GOEAN3WI.js";import"./chunk-SNC2IU6J.js";import"./chunk-5SDHGKAM.js";import"./chunk-BXPB4ZAG.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-REYR55MP.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var z=(s,l)=>l.user_ink_id;function Y(s,l){if(s&1){let r=I();e(0,"div",10)(1,"h3"),i(2),t(),k(3,"img",12),e(4,"p"),i(5),t(),e(6,"button",13)(7,"a",14),c("click",function(){let a=g(r).$implicit,m=p();return b(m.chooseInk(!0,a))}),i(8,"Open "),t()()()}if(s&2){let r=l.$implicit;o(2),u(r.product_name),o(),d("src",f(r.image_url),h),o(2),u(r.batch_number)}}function j(s,l){if(s&1){let r=I();e(0,"div",15),k(1,"img",12),e(2,"h1"),i(3),t(),e(4,"p"),i(5,"Colour: (fetched from database later!)"),t(),e(6,"p"),i(7),t(),e(8,"p"),i(9),t(),e(10,"p"),i(11),t(),e(12,"button",16)(13,"a",14),c("click",function(){g(r);let a=p();return b(a.setClosed(!1))}),i(14,"Close"),t()()()}if(s&2){let r=p();o(),d("src",f(r.selectedInk.imageUrl),h),o(2),u(r.selectedInk.name),o(4),x("Batchnumber: ",r.selectedInk.batchnumber),o(2),x("Opened: ",r.selectedInk.openedAt),o(2),x("Expires: ",r.selectedInk.expiresAt)}}var X=(()=>{let l=class l{constructor(n){this.apiService=n,this.searchItem="",this.isModalOpen=!1,this.selectedInk=null}ngOnInit(){this.apiService.getAllUserInks().subscribe({next:n=>{this.userInks=n,console.log(n)},error:n=>{console.error("Jodain meni bieleen: ",n)}})}chooseInk(n,a){this.isModalOpen=n,this.selectedInk=a}setClosed(n){this.isModalOpen=n}filteredSearch(){let n=this.searchItem.toLowerCase();return this.userInks.filter(a=>a.product_name.toLowerCase().includes(n))}};l.\u0275fac=function(a){return new(a||l)(C(B))},l.\u0275cmp=S({type:l,selectors:[["app-inks"]],decls:24,vars:3,consts:[[3,"translucent"],[1,"atra"],[1,"bg-#2a3e3c"],[1,"p-2","bg-blue-600","mx-4"],["tab","inks/publiclibrary","href","/tabs/inks/publiclibrary"],[1,"p-2","bg-blue-600","mx-2"],["tab","inks/publiclibrary","href","/tabs/inks"],["animated","true","placeholder","Search",2,"--background","#071747","--color","white",3,"ngModelChange","ngModel"],[1,"bg-black","text-xl"],["tab","inks/addnewink","href","/tabs/inks/addnewink"],[1,"box"],["id","example-modal",3,"didDismiss","isOpen"],["width","20%",3,"src"],[1,"m-2"],[3,"click"],[1,"wrapper"],[1,"bg-blue-600"]],template:function(a,m){a&1&&(e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),i(3,"ATRA"),t()()(),e(4,"ion-content")(5,"div",2)(6,"h2"),i(7,"T\xC4M\xC4 ON USER LIBRARY"),t(),e(8,"button",3)(9,"a",4),i(10,"Ink catalog "),t()(),e(11,"button",5)(12,"a",6),i(13,"Your inks"),t()(),e(14,"p"),i(15,"We keep all your inks in this library."),t(),e(16,"ion-searchbar",7),O("ngModelChange",function(_){return y(m.searchItem,_)||(m.searchItem=_),_}),t(),e(17,"button",8)(18,"a",9),i(19," Add new"),t()(),M(20,Y,9,4,"div",10,z),t()(),e(22,"ion-modal",11),c("didDismiss",function(){return m.setClosed(!1)}),w(23,j,15,6,"ng-template"),t()),a&2&&(d("translucent",!0),o(16),E("ngModel",m.searchItem),o(4),v(m.userInks),o(2),d("isOpen",m.isModalOpen))},dependencies:[U,P,V,T,A,F,R,L,W,D],styles:["ion-modal#example-modal[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-bottom:10px}ion-modal#example-modal[_ngcontent-%COMP%]{--width: fit-content;--min-width: 250px;--height: fit-content;--border-radius: 6px;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4)}ion-modal#example-modal[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:20px 20px 10px}.box[_ngcontent-%COMP%]{background:#070a22;margin:1em;border-radius:10px;padding:5px}"]});let s=l;return s})();export{X as InksPage};
