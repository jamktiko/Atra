import{a as U}from"./chunk-KIEOOWUW.js";import{D as r,Da as R,E as C,F as u,J as P,K as v,L as E,M as I,N as O,X as T,aa as L,f as b,g as h,ga as V,h as g,i as l,j as k,k as S,ka as A,l as w,oa as B,pa as D,q as y,r as M,s as m,t,u as i,v as x,w as f,x as d,xa as F,y as p,ya as N}from"./chunk-QYYLLHFK.js";import"./chunk-Y2PDZ72K.js";import"./chunk-GOEAN3WI.js";import"./chunk-SNC2IU6J.js";import"./chunk-5SDHGKAM.js";import"./chunk-BXPB4ZAG.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-REYR55MP.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var z=(s,o)=>o.ink_id;function H(s,o){if(s&1){let a=f();t(0,"div",6)(1,"h3"),r(2),i(),x(3,"img",8),t(4,"button")(5,"a",9),d("click",function(){let n=b(a).$implicit,c=p();return h(c.chooseInk(!0,n))}),r(6,"Open "),i()()()}if(s&2){let a=o.$implicit;l(2),C(a.product_name),l(),m("src",I(a.image_url),g)}}function Y(s,o){if(s&1){let a=f();t(0,"div",10),x(1,"img",8),t(2,"h1"),r(3),i(),t(4,"p"),r(5,"Colour: (fetched from database later!) "),i(),t(6,"p"),r(7),i(),t(8,"p"),r(9),i(),t(10,"p"),r(11),i(),t(12,"button",11)(13,"a",9),d("click",function(){b(a);let n=p();return h(n.setClosed(!1))}),r(14,"Close"),i()()()}if(s&2){let a=p();l(),m("src",I(a.selectedInk.image_url),g),l(2),C(a.selectedInk.product_name),l(4),u("Batchnumber: ",a.selectedInk.batch_number),l(2),u("Opened: ",a.selectedInk.opened_at),l(2),u("Expires: ",a.selectedInk.expires_at)}}var Q=(()=>{let o=class o{constructor(e){this.apiService=e,this.isModalOpen=!1,this.searchItem=""}chooseInk(e,n){this.isModalOpen=e,this.selectedInk=n}setClosed(e){this.isModalOpen=e}filteredSearch(){let e=this.searchItem.toLowerCase();return this.allInks.filter(n=>n.product_name.toLowerCase().includes(e)||n.manufacturer.toLowerCase().includes(e)||n.color.toLowerCase().includes(e))}ngOnInit(){this.apiService.getAllPublicInks().subscribe({next:e=>{this.allInks=e,console.log(e)},error:e=>{console.error("Something went wrong: ",e)}})}};o.\u0275fac=function(n){return new(n||o)(k(U))},o.\u0275cmp=S({type:o,selectors:[["app-publiclibrary"]],decls:20,vars:3,consts:[[3,"translucent"],[1,"atra"],[1,"p-2","bg-blue-600","mx-2"],["tab","inks/publiclibrary","href","/tabs/inks/publiclibrary"],["tab","inks/publiclibrary","href","/tabs/inks"],["animated","true","placeholder","Search",3,"ngModelChange","ngModel"],[1,"box"],["id","example-modal",3,"didDismiss","isOpen"],["width","20%",3,"src"],[3,"click"],[1,"wrapper"],[1,"bg-blue-600"]],template:function(n,c){n&1&&(t(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),r(3,"ATRA"),i()()(),t(4,"ion-content")(5,"h2"),r(6,"T\xC4M\xC4 ON PUBLIC LIBRARY"),i(),t(7,"button",2)(8,"a",3),r(9,"Ink catalog "),i()(),t(10,"button",2)(11,"a",4),r(12,"Your inks"),i()(),t(13,"p"),r(14,"Here is where you can find our ink library. Browse, admire, or find something new to try."),i(),t(15,"ion-searchbar",5),E("ngModelChange",function(_){return v(c.searchItem,_)||(c.searchItem=_),_}),i(),y(16,H,7,3,"div",6,z),i(),t(18,"ion-modal",7),d("didDismiss",function(){return c.setClosed(!1)}),w(19,Y,15,6,"ng-template"),i()),n&2&&(m("translucent",!0),l(15),P("ngModel",c.searchItem),l(),M(c.filteredSearch()),l(2),m("isOpen",c.isModalOpen))},dependencies:[B,D,F,N,O,V,T,L,R,A],styles:["ion-modal#example-modal[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-bottom:10px}ion-modal#example-modal[_ngcontent-%COMP%]{--width: fit-content;--min-width: 250px;--height: fit-content;--border-radius: 6px;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4)}ion-modal#example-modal[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:20px 20px 10px}.box[_ngcontent-%COMP%]{background:#00005d}"]});let s=o;return s})();export{Q as PubliclibraryPage};
