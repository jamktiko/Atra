import{a as B}from"./chunk-KIEOOWUW.js";import{D as n,Da as W,E as u,F as _,J as E,K as y,L as O,M as f,N as P,X as T,aa as A,f as g,g as h,ga as V,h as b,i as o,j as C,k as S,ka as D,l as w,oa as F,pa as L,q as M,r as v,s as d,t as e,u as t,v as k,w as I,x as c,xa as R,y as p,ya as U}from"./chunk-QYYLLHFK.js";import"./chunk-Y2PDZ72K.js";import"./chunk-GOEAN3WI.js";import"./chunk-SNC2IU6J.js";import"./chunk-5SDHGKAM.js";import"./chunk-BXPB4ZAG.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-REYR55MP.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var z=(s,l)=>l.user_ink_id;function Y(s,l){if(s&1){let r=I();e(0,"div",10)(1,"h3"),n(2),t(),k(3,"img",12),e(4,"p"),n(5),t(),e(6,"button",13)(7,"a",14),c("click",function(){let a=g(r).$implicit,m=p();return h(m.chooseInk(!0,a))}),n(8,"Open "),t()()()}if(s&2){let r=l.$implicit;o(2),u(r.product_name),o(),d("src",f(r.image_url),b),o(2),u(r.batch_number)}}function j(s,l){if(s&1){let r=I();e(0,"div",15),k(1,"img",12),e(2,"h1"),n(3),t(),e(4,"p"),n(5,"Colour: (fetched from database later!) "),t(),e(6,"p"),n(7),t(),e(8,"p"),n(9),t(),e(10,"p"),n(11),t(),e(12,"button",16)(13,"a",14),c("click",function(){g(r);let a=p();return h(a.setClosed(!1))}),n(14,"Close"),t()()()}if(s&2){let r=p();o(),d("src",f(r.selectedInk.image_url),b),o(2),u(r.selectedInk.product_name),o(4),_("Batchnumber: ",r.selectedInk.batch_number),o(2),_("Opened: ",r.selectedInk.opened_at),o(2),_("Expires: ",r.selectedInk.expires_at)}}var X=(()=>{let l=class l{constructor(i){this.apiService=i,this.searchItem="",this.isModalOpen=!1,this.selectedInk=null}chooseInk(i,a){this.isModalOpen=i,this.selectedInk=a}setClosed(i){this.isModalOpen=i}filteredSearch(){let i=this.searchItem.toLowerCase();return this.userInks.filter(a=>a.product_name.toLowerCase().includes(i))}ngOnInit(){this.apiService.getAllUserInks().subscribe({next:i=>{this.userInks=i,console.log(i)},error:i=>{console.error("Jodain meni bieleen: ",i)}})}};l.\u0275fac=function(a){return new(a||l)(C(B))},l.\u0275cmp=S({type:l,selectors:[["app-inks"]],decls:25,vars:3,consts:[[3,"translucent"],[1,"atra"],[1,"bg-#2a3e3c"],[1,"p-2","bg-blue-600","mx-4"],["tab","inks/publiclibrary","href","/tabs/inks/publiclibrary"],[1,"p-2","bg-blue-600","mx-2"],["tab","inks/publiclibrary","href","/tabs/inks"],["animated","true","placeholder","Search",2,"--background","#071747","--color","white",3,"ngModelChange","ngModel"],[1,"bg-black","text-xl"],["tab","inks/addnewink","href","/tabs/inks/addnewink"],[1,"box"],["id","example-modal",3,"didDismiss","isOpen"],["width","20%",3,"src"],[1,"m-2"],[3,"click"],[1,"wrapper"],[1,"bg-blue-600"]],template:function(a,m){a&1&&(e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),n(3,"ATRA"),t()()(),e(4,"ion-content")(5,"div",2),n(6," < "),e(7,"h2"),n(8,"T\xC4M\xC4 ON USER LIBRARY"),t(),e(9,"button",3)(10,"a",4),n(11,"Ink catalog "),t()(),e(12,"button",5)(13,"a",6),n(14,"Your inks"),t()(),e(15,"p"),n(16,"We keep all your inks in this library."),t(),e(17,"ion-searchbar",7),O("ngModelChange",function(x){return y(m.searchItem,x)||(m.searchItem=x),x}),t(),e(18,"button",8)(19,"a",9),n(20," Add new"),t()(),M(21,Y,9,4,"div",10,z),t()(),e(23,"ion-modal",11),c("didDismiss",function(){return m.setClosed(!1)}),w(24,j,15,6,"ng-template"),t()),a&2&&(d("translucent",!0),o(17),E("ngModel",m.searchItem),o(4),v(m.filteredSearch()),o(2),d("isOpen",m.isModalOpen))},dependencies:[F,P,V,T,A,L,U,R,W,D],styles:["ion-modal#example-modal[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{margin-bottom:10px}ion-modal#example-modal[_ngcontent-%COMP%]{--width: fit-content;--min-width: 250px;--height: fit-content;--border-radius: 6px;--box-shadow: 0 28px 48px rgba(0, 0, 0, .4)}ion-modal#example-modal[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:20px 20px 10px}.box[_ngcontent-%COMP%]{background:#070a22;margin:1em;border-radius:10px;padding:5px}"]});let s=l;return s})();export{X as InksPage};
