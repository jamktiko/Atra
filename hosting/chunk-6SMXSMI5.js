import{C as y,D as l,I as T,J as I,K as E,L as P,M as S,N as V,V as D,X as R,aa as F,ca as O,f as s,g as m,ga as z,h,ha as B,i as c,k as f,m as b,n as x,o as k,oa as N,p as C,pa as q,q as v,r as w,s as p,t as o,u as n,v as M,w as g,wa as W,x as _,y as u}from"./chunk-OSKTXYQY.js";function A(r,a){r&1&&(o(0,"div")(1,"p"),l(2,"Batch number is required."),n()())}function G(r,a){if(r&1){let e=g();o(0,"div",4)(1,"p"),l(2),n(),M(3,"img",8),o(4,"input",9,0),P("ngModelChange",function(t){let d=s(e).$implicit;return E(d.batchnumber,t)||(d.batchnumber=t),m(t)}),n(),x(6,A,3,0,"div"),o(7,"button",6),_("click",function(){let t=s(e).$implicit,d=u(2);return m(d.sendDelete(t))}),l(8,"Delete"),n()()}if(r&2){let e=a.$implicit,i=y(5);c(2),T("",e.product_name," - ",e.size," ",e.manufacturer," - ",e.color," "),c(),p("src",S(e.imageUrl),h),c(),I("ngModel",e.batchnumber),c(2),k(i.invalid&&i.touched?6:-1)}}function L(r,a){if(r&1){let e=g();o(0,"div",3),v(1,G,9,8,"div",4,C),n(),o(3,"div",5)(4,"h3"),l(5,"Got everything you need?"),n(),o(6,"button",6),_("click",function(){s(e);let t=u();return m(t.sendCancel())}),l(7,"No, go back"),n(),o(8,"button",7),_("click",function(){s(e);let t=u();return m(t.sendConfirm())}),l(9,"Yes, continue"),n()()}if(r&2){let e=u();c(),w(e.inksToReview),c(7),p("disabled",!e.disableButton())}}function U(r,a){if(r&1){let e=g();o(0,"div",5)(1,"h2"),l(2,"No inks chosen."),n()(),o(3,"div",5)(4,"h3"),l(5,"At least one ink has to be chosen to proceed. "),n(),o(6,"button",10),_("click",function(){s(e);let t=u();return m(t.sendCancel())}),l(7,"Go back"),n()()}}var te=(()=>{let a=class a{constructor(){this.cancel=new b,this.delete=new b,this.inksToReview=[]}ngOnInit(){this.getInksData(),console.log("Inks to review: ",this.inksToReview)}getInksData(){return this.inksToReview=this.chosenInks.value}sendDelete(i){this.delete.emit(i),this.getInksData()}sendCancel(){this.cancel.emit()}disableButton(){return this.inksToReview.every(i=>i.batchnumber&&i.batchnumber.trim()!=="")}sendConfirm(){console.log("Inks added successfully: "),console.log(this.getInksData())}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=f({type:a,selectors:[["app-modalink"]],inputs:{chosenInks:"chosenInks"},outputs:{cancel:"cancel",delete:"delete"},decls:8,vars:2,consts:[["batchnumber","ngModel"],[3,"fullscreen"],["collapse","condense",1,"box2"],[1,"scrollable"],[1,"bg-blue-800","my-2"],[1,"box2"],[1,"bg-blue-400","mx-2",3,"click"],[1,"bg-blue-400","mx-2",3,"click","disabled"],["width","25%",3,"src"],["type","text","placeholder","Insert batchnumber","required","",1,"bg-blue-400","mx-2",3,"ngModelChange","ngModel"],[1,"bg-white","mx-2",3,"click"]],template:function(t,d){t&1&&(o(0,"ion-content",1)(1,"ion-header",2)(2,"h2"),l(3,"Review"),n(),o(4,"ion-text"),l(5,"Look and check"),n()(),x(6,L,10,1)(7,U,8,0),n()),t&2&&(p("fullscreen",!0),c(6),k(d.inksToReview.length>0?6:7))},dependencies:[N,q,W,V,z,D,R,O,F,B],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#0006;-webkit-backdrop-filter:blur(100px);backdrop-filter:blur(100px)}.box[_ngcontent-%COMP%]{background-color:#404481;padding:.5em;margin:1em}.box2[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1;background-color:#000;padding:.5em;margin:.5em;text-align:center}.scrollable[_ngcontent-%COMP%]{max-height:50vh;overflow-y:auto;padding:.5rem;border:1px solid #ccc;border-radius:6px;margin:1rem 0}.btn[_ngcontent-%COMP%]{background-color:#0c226b;border-radius:10px;padding:5px;margin:2px;font-size:1em}"]});let r=a;return r})();export{te as a};
